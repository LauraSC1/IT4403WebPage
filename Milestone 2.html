<!DOCTYPE html>
<html>

<!--This is the Title and link to my CSS-->
<head>
    <title>Laura's Milestone 2</title>
    <link rel="stylesheet" href="WebpageStyle.css">
</head>

<!-- This is to center the webpage -->
<style>
    .content {
    max-width: 1000px;

    margin: auto;
    }

    .textformat {

}

h1 {
text-align: center;

color: #4CAF50;
font-family: Garamond;
font-size: 50px;
padding:0px;
margin: 0px;

}

p {

text-align: left;
letter-spacing: 2.5px;
font-family: Garamond;
font-size: 22px;
border-style: dotted dashed solid double;
padding: 30px;

}

a {
text-decoration: none;
color: #008CBA;
}


</style>

<!--This is the content for my Nav Bar-->
<ul>
<li><a href="Milestone 4.html">Milestone 4</a></li>
<li><a href="Milestone 3.html">Milestone 3</a></li>
<li><a href="Milestone 2.html">Milestone 2</a></li>
<li><a href="Milestone 1.html">Milestone 1</a></li>
<li><a href="index.html">Homepage</a></li>
</ul>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script>
function function2() {
  var result = document.getElementById('search-text').value;
  $.ajax({
    url: "https://www.googleapis.com/books/v1/volumes?q=" + result,
    type: 'GET',
    dataType: 'json', // added data type
    success: handleResponse
  });

  function handleResponse(res) {
    $.each(res.items, function(i, item) {
        var title = item.volumeInfo.title,
          author = item.volumeInfo.authors[0],
          thumb = item.volumeInfo.imageLinks.thumbnail,
          volumeID = item.id;
        var elTitle = $('<h3 class="title"></h3>').html(title),
          elAuthor = $('<h4 class="author"></h4>').html(author),
          elThumb = $('<img src="" alt="" class="thumbnail">').attr('src', thumb),
          elVid = $('<a href="https://www.googleapis.com/books/v1/volumes/' + volumeID + '">Book Details</a>');


        $('#result').append(elTitle, elAuthor, elThumb,elVid);
    })
  }
}
</script>


<body>
  <h1>Book search page</h1>
  <div class="main-body">
    <form id="form">
      <div class="form-group">
        <label for="usr">Enter Book Name</label>
        <input type="search" class="form-control" id="search-text">
      </div>
      <div class="search-button">
        <button onclick="function2();" type="button" id="search-button" class="btn btn-default">Search</button>
      </div>
    </form>
    <div id="result">
    </div>
  </div>
</body>


</html>
